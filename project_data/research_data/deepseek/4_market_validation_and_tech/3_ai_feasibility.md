### **Техническая справка: анализ реализуемости AI+дизайн для B2C платформы тюнинга премиальных авто**

---

### **1. Технический стек (Realism Check)**

**Отказ от Midjourney: проблема автоматизации и контроля**
*   **Отсутствие официального API:** На январь 2026 года Midjourney **не предоставляет официального API** для интеграции. Все доступные решения являются неофициальными, нарушают условия обслуживания платформы и несут высокие риски блокировки аккаунта[reference:0].
*   **Невозможность точного контроля:** Генеративные модели Midjourney не предназначены для сохранения точной геометрии исходного объекта. В задаче кастомизации реального автомобиля это неприемлемо — клиент должен видеть дизайн именно на своей машине, а не на абстрактной форме.

**Предлагаемое решение: Stable Diffusion + ControlNet**
Для достижения баланса между творческой генерацией и сохранением исходной геометрии автомобиля предлагается использовать стек на основе открытых моделей.

| Компонент | Назначение | Реализация |
| :--- | :--- | :--- |
| **Stable Diffusion (SD)** | Базовая модель для генерации изображений по текстовому описанию (prompt). | Fine-tuned версия (например, SD 1.5 или SDXL), дообученная на датасетах автомобилей, обвесов и винил-пленок. |
| **ControlNet** | **Ключевой компонент для контроля.** Позволяет "зафиксировать" контуры и структуру исходного фото автомобиля, направляя генерацию SD[reference:1]. | Применяются два типа контрольных карт: **Canny** (детектор границ) для сохранения точных линий кузова и **Depth map** (карта глубины) для учета объемных элементов (бамперы, решетка радиатора). |
| **Классификатор автомобиля** | Автоматическое определение марки и модели автомобиля по загруженному фото для последующей оптимизации промпта. | Готовая компьютерно-визионная модель (например, из Roboflow Universe[reference:2]) или коммерческий API (например, PlateRecognizer). |

**Архитектура интеграции в Telegram Mini App**
```
Telegram Client (React/Vue) → FastAPI Backend (Python) → Очередь задач (Redis/RabbitMQ) → GPU Worker (SD + ControlNet) → Cloud Storage → Клиенту.
```
*   **Frontend (TWA):** Легкое приложение на React/Vue.js, размещенное в Telegram. Отвечает за загрузку фото, ввод промпта и отрисовку результатов.
*   **Backend (Python/FastAPI):** Принимает запросы, управляет очередью, интегрируется со сторонними API (классификация авто), возвращает результат. Существуют готовые opensource шаблоны для быстрого старта[reference:3].
*   **GPU Inference:** Вынесен в отдельный микросервис (Worker). Развертывается в облаке с поддержкой GPU (например, на **Nvidia A100** или **L40S**).

### **2. Экономика разработки (CAPEX/OPEX)**

**CAPEX: Стоимость разработки MVP (оценка)**
Оценка основана на рыночных ставках для разработчиков из Восточной Европы на 2025 год: $35–70/час для mid-senior уровня[reference:4].

| Роль | Часы (оценка) | Стоимость (по средней ставке $50/ч) |
| :--- | :--- | :--- |
| Frontend-разработчик (Telegram TWA) | 200 ч | $10 000 |
| Backend-разработчик (Python/FastAPI, интеграции) | 300 ч | $15 000 |
| AI/ML Engineer (настройка SD, ControlNet, пайплайн) | 150 ч | $7 500 |
| **Итого (разработка)** | **~650 ч** | **~$32 500** |

*Примечание: в сумму не входит стоимость дизайна UI/UX и проектного менеджмента.*

**OPEX: Инфраструктура и стоимость генерации**
Ключевая переменная статья расходов — инференс AI-модели. Рассмотрим два сценария.

| Сценарий | Стоимость 1 изображения* | Плюсы | Минусы |
| :--- | :--- | :--- | :--- |
| **Облачный API (Replicate/Hugging Face)** | **~$0.0012 – $0.014**[reference:5][reference:6] | Нет затрат на DevOps, мгновенное масштабирование, оплата только за запрос. | Высокая удельная стоимость при больших объемах, зависимость от провайдера. |
| **Собственный GPU-инстанс (напр., A100)** | **~$0.014** (при 10 сек/генерация и стоимости инстанса $5.04/ч)[reference:7] | Полный контроль, стоимость падает с ростом нагрузки, возможность тонкой настройки модели. | Высокий порог входа, нужны DevOps-компетенции, оплата за время работы инстанса. |

*Расчет для генерации 4 вариантов дизайна за запрос. Для MVP (до 1000 запросов/мес) выгоднее использовать облачный API. При переходе на >5000 запросов/мес экономически оправдано развертывание собственного GPU-инстанса.*

### **3. User Flow (Путь клиента)**

Механика взаимодействия с AI-дизайнером в Telegram-боте:

1.  **Загрузка фото.** Клиент отправляет в бот 1-3 фото своего автомобиля (вид сбоку, спереди).
2.  **Авто-определение модели.** AI (компьютерное зрение) автоматически определяет марку и модель автомобиля. Результат показывается пользователю для подтверждения.
3.  **Запрос на стиль.** Клиент пишет текстовый промпт на естественном языке: *"сделай в стиле cyberpunk с неоновыми полосами"* или выбирает из готовых стилей ("агрессивный спорт", "люкс-винил" и т.д.).
4.  **Генерация вариантов.** Система использует **Stable Diffusion + ControlNet**: исходное фото и карта глубины/границ (ControlNet) обеспечивают сохранение геометрии авто, а текстовый промпт задает стиль. Генерируется **4 варианта** дизайна.
5.  **Результат.** Клиент получает в чате 4 изображения своего автомобиля с примененным дизайном. Возможность уточнить запрос или выбрать вариант для дальнейшего оформления заказа на физический обвес/пленку.

---

### **Заключение**

Использование **Stable Diffusion в связке с ControlNet** решает ключевую задачу бизнеса: генерация реалистичных, привязанных к конкретному автомобилю дизайнов при сохранении полного контроля над процессом. Предложенная архитектура интегрируема в Telegram Mini App, а оценка бюджета демонстрирует реалистичный уровень затрат для стартапа. **AI в данном контексте — не хайп, а конкретный инструмент снижения cost of acquisition (клиент видит "себя" в дизайне до покупки) и ускорения цикла продаж.**